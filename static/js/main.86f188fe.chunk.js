(this["webpackJsonpIssues-Analytics"]=this["webpackJsonpIssues-Analytics"]||[]).push([[0],{170:function(e,t,a){e.exports=a(354)},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a.n(l),c=a(127),s=a(43),u=a(40),i=a(84),m=(a(176),a(61)),p=(a(131),a(60)),g=(a(179),a(166)),d=(a(132),a(7)),b=(a(183),a(119)),f=(a(355),a(123)),h=a(18),E=a(31),v=a(32),y=function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,null,[{key:"isAuthenticatedUser",value:function(){try{return null!==localStorage.getItem("token")}catch(e){return!1}}},{key:"setToken",value:function(t){try{return localStorage.setItem("token",t)}catch(a){return e.clearLocalStorage(),null}}},{key:"getToken",value:function(){try{return localStorage.getItem("token")}catch(t){return e.clearLocalStorage(),null}}},{key:"setUser",value:function(t){try{localStorage.setItem("user",JSON.stringify(t))}catch(a){e.clearLocalStorage()}}},{key:"getUser",value:function(){try{return JSON.parse(localStorage.getItem("user"))}catch(t){return e.clearLocalStorage(),null}}},{key:"clearLocalStorage",value:function(){try{localStorage.removeItem("user"),localStorage.removeItem("token")}catch(e){console.log(e)}}}]),e}(),k=Object(h.a)({forceRefresh:!0}),O=function(){var e=Object(s.c)().formatMessage,t=r.a.createElement(f.a,{onClick:function(){y.clearLocalStorage(),k.push("/login")}},r.a.createElement(f.a.Item,null,e({id:"logout.button.name"}))),a=y.getUser()||{name:""},n="".concat(a.name);return r.a.createElement(p.a,{className:"nav"},r.a.createElement(b.a,{span:8},r.a.createElement("h2",null,"Issues-Analytics")),r.a.createElement(b.a,{span:8,offset:8,className:"name"},r.a.createElement(g.a,{overlay:t},r.a.createElement("a",{className:"ant-dropdown-link"},r.a.createElement("i",{className:"icon-user"})," ",n," ",r.a.createElement(d.a,{type:"down"})))))};O.defaultProps={};var w=O,j=m.a.Header,S=m.a.Content,I=function(e){return r.a.createElement(m.a,null,r.a.createElement(j,null,r.a.createElement(w,null)),r.a.createElement(m.a,null,r.a.createElement(S,null,e.children)))};I.defaultProps={children:null};var x=I,C=(a(64),a(26)),N=(a(242),a(125)),A=a(52),D=a.n(A),P=(a(245),a(88)),L=a(83),U=a(126),T=(a(247),a(124)),J=a(78),R=a(120),M=a.n(R);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=Object(h.a)({forceRefresh:!0});M.a.defaults.baseURL="".concat("https://a-issue.herokuapp.com/issues");var F=function(){var e=y.getToken();return{"x-token-issues":"".concat(e)}},G=function(){var e=Object(L.a)(D.a.mark((function e(t,a,n){var r,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H({headers:F(),method:t,url:a},n),e.prev=1,e.next=4,M()(r);case 4:return l=e.sent,e.abrupt("return",l.data.data);case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0||!e.t0.response){e.next=18;break}if(401!==e.t0.response.data.errorCode&&500!==e.t0.response.data.errorCode){e.next=15;break}return y.clearLocalStorage(),z.push("/error",e.t0.response.data),e.abrupt("return",null);case 15:throw new Error(e.t0.response.data.errorMessage);case 18:throw new Error("\u4e0d\u80fd\u8fde\u63a5\u670d\u52a1\u5668\u3002");case 19:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,n){return e.apply(this,arguments)}}();function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return G("post",e,{data:t})}var q=T.a.Item,K=function(e){var t=Object(s.c)().formatMessage,a=Object(n.useState)(""),l=Object(U.a)(a,2),o=l[0],c=l[1],u=Object(n.useState)(""),i=Object(U.a)(u,2),m=i[0],g=i[1],b=function(){var a=Object(L.a)(D.a.mark((function a(n){var r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),o||P.a.error(t({id:"login.label.name.check"})),m||P.a.error(t({id:"login.label.password.check"})),!o||!m){a.next=16;break}return a.prev=4,a.next=7,_("/login",{name:o,pass:m});case 7:r=a.sent,y.setToken(r.token),y.setUser(r.user),e.history.push("/home"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),P.a.error(a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[4,13]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"login"},r.a.createElement(p.a,null,r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,"A-issue")),r.a.createElement(T.a,null,r.a.createElement(q,null,r.a.createElement(N.a,{value:o,prefix:r.a.createElement(d.a,{type:"user"}),placeholder:t({id:"login.label.name"}),onChange:function(e){return c(e.target.value)}})),r.a.createElement(q,null,r.a.createElement(N.a,{value:m,type:"password",autoComplete:"off",prefix:r.a.createElement(d.a,{type:"lock"}),placeholder:t({id:"login.label.password"}),onChange:function(e){return g(e.target.value)}})),r.a.createElement(q,null,r.a.createElement(C.a,{className:o||m?"button-enable":"button-disabled",disabled:!o&&!m,onClick:b},r.a.createElement(s.a,{id:"login.button.name"})))))),r.a.createElement(p.a,{className:"footer"},r.a.createElement("p",null,"Copyright \xa9 2019 DAC Corporation. All Rights Reserved.")))};K.defaultProps={};var Q=K,V=a(45),W=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement(V.Chart,{width:600,height:400,data:[{genre:"Sports",sold:275,income:2300},{genre:"Strategy",sold:115,income:667},{genre:"Action",sold:120,income:982},{genre:"Shooter",sold:350,income:5271},{genre:"Other",sold:150,income:3710}],scale:{sold:{alias:"\u9500\u552e\u91cf"},genre:{alias:"\u6e38\u620f\u79cd\u7c7b"}}},r.a.createElement(V.Axis,{name:"genre",title:!0}),r.a.createElement(V.Axis,{name:"sold",title:!0}),r.a.createElement(V.Legend,{position:"top",dy:-20}),r.a.createElement(V.Tooltip,null),r.a.createElement(V.Geom,{type:"interval",position:"genre*sold",color:"genre"})))},X=function(e){var t,a=e.history.location.state;return a&&(401===a.errorCode?t="\u767b\u5f55\u8d85\u65f6\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u3002":500===a.errorCode&&(t="\u7cfb\u7edf\u9519\u8bef\u53d1\u751f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u3002")),r.a.createElement("div",{className:"error-wrapper"},r.a.createElement("span",{className:"error-code"},a.errorCode||null),r.a.createElement("div",{className:"error-message"},t||null),r.a.createElement("div",{className:"return-btn"},r.a.createElement(i.b,{to:"/login"},r.a.createElement(C.a,{type:"primary"},"\u767b\u5f55"))))},Y=function(){return r.a.createElement("h1",null,"SNotFound")},Z=(a(350),a(351),a(352),a(353),{"login.label.name":"\u7528\u6237ID","login.label.name.check":"\u8bf7\u8f93\u5165\u7528\u6237ID","login.label.password":"\u5bc6\u7801","login.label.password.check":"\u8bf7\u8f93\u5165\u5bc6\u7801","login.button.name":"\u767b\u5f55","logout.button.name":"\u9000\u51fa"}),$={"login.label.name":"\u7528\u6237ID","login.label.name.check":"\u8bf7\u8f93\u5165\u7528\u6237ID","login.label.password":"\u5bc6\u7801","login.label.password.check":"\u8bf7\u8f93\u5165\u5bc6\u7801","login.button.name":"\u767b\u5f55"},ee={"login.label.name":"\u7528\u6237ID","login.label.name.check":"\u8bf7\u8f93\u5165\u7528\u6237ID","login.label.password":"\u5bc6\u7801","login.label.password.check":"\u8bf7\u8f93\u5165\u5bc6\u7801","login.button.name":"\u767b\u5f55"},te=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return r.a.createElement(u.b,Object.assign({},a,{render:function(e){return y.isAuthenticatedUser()?r.a.createElement(x,null,r.a.createElement(t,e)):r.a.createElement(u.a,{to:"/login"})}}))},ae=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return r.a.createElement(u.b,Object.assign({},a,{render:function(e){return y.isAuthenticatedUser()?r.a.createElement(u.a,{to:"/home"}):r.a.createElement(t,e)}}))},ne=function(){var e=Z;switch(navigator.language.split("-")[0]){case"en":e=$;break;case"zh":e=Z;break;case"ja":e=ee;break;default:e=Z}return e},re=function(){return r.a.createElement(s.b,{locale:navigator.language,messages:ne()},r.a.createElement(i.a,{basename:"/CT_OBJ"},r.a.createElement(u.d,null,r.a.createElement(ae,{path:"/",exact:!0,component:Q}),r.a.createElement(ae,{path:"/login",component:Q}),r.a.createElement(te,{path:"/home",component:W}),r.a.createElement(u.b,{path:"/error",exact:!0,component:X}),r.a.createElement(u.b,{path:"*",component:Y}))))};o.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[170,1,2]]]);